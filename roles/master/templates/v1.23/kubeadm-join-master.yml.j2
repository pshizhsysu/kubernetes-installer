apiVersion: kubeadm.k8s.io/v1beta3
kind: JoinConfiguration
controlPlane:
  certificateKey: "{{certificate_key}}"
  localAPIEndpoint:
    advertiseAddress: "{{apiserver_advertise_address}}"
discovery:
  bootstrapToken:
    apiServerEndpoint: "{{control_plane_endpoint}}"
    token: "{{token}}"
    caCertHashes:
    - "sha256:{{ca_cert_hash}}"
nodeRegistration:
  name: "{{node_name}}"
  kubeletExtraArgs:
    node-ip: "{{node_ip}}"